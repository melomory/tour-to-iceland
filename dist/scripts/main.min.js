function isFormValid(){const e=$("#order-form");let n=!0;return e.find(".order__form-control").each((function(){const e=$(this);if(e.is("input")&&("text"===e.attr("type")&&e.val()||"tel"===e.attr("type")&&!e.val().includes("_"))||e.find("input").toArray().some((e=>$(e).is(":checked"))))e.removeClass("error-border"),e.next().hasClass("error-message")&&e.next().remove();else{const i="Необходимо заполнить";e.next().hasClass("error-message")||e.after($("<p></p>").text(i).addClass("error-message")).addClass("error-border"),n&&=!1}n&&=!0})),n}function initBurgerMenu(){const e=$("#header-cancel"),n=$(".header__navigation-menu");$("#burger-button").on("click",(function(i){toggleBurgerMenu(e,n)})),n.find($(".header__link")).on("click",(()=>toggleBurgerMenu(e,n))),e.on("click",(()=>toggleBurgerMenu(e,n)))}function toggleBurgerMenu(e,n){"none"!==e.css("display")?(n.css({display:"none"}),e.css({display:"none"})):(n.css({display:"flex"}),e.css({display:"block"}))}function sendForm(){let e=$(".loader");e.css("display","flex"),offScroll(),$.ajax({type:"POST",url:"https://testologia.ru/checkout",data:$("#order-form").serialize()}).done((function(n){e.hide(),onScroll(),n.success?$(".popup-container").css({display:"block"}):alert("Возникла ошибка при отправке заявки, позвоните нам и сообщите нам о проблеме.")}))}function offScroll(){$("html, body").css({overflow:"hidden"})}function onScroll(){$("html, body").css({overflow:"auto"})}function showPreviousSlide(e){e.currentSlide=(e.currentSlide-1+e.length)%e.length,updateSlider(e)}function showNextSlide(e){e.currentSlide=(e.currentSlide+1)%e.length,updateSlider(e)}function updateSlider(e){e.each((function(n){n===e.currentSlide?$(this).css({display:"grid"}):$(this).css({display:"none"})}))}function initProgramSlider(e){const n=e.find(".slider-btn_prev"),i=e.find(".slider-btn_next"),r=e.find(".program__tour");r.currentSlide=0,n.on("click",(()=>showPreviousSlide(r))),i.on("click",(()=>showNextSlide(r))),updateSlider(r)}function initReviewSlider(e){const n=e.find(".slider-btn_prev"),i=e.find(".slider-btn_next"),r=e.find(".review-card");r.currentSlide=0,n.on("click",(()=>showPreviousSlide(r))),i.on("click",(()=>showNextSlide(r))),updateSlider(r)}$((()=>{initBurgerMenu(),$("#video-play-action").on("click",(function(e){e.preventDefault(),$(this).css({display:"none"}),$(".video__container").css({background:"none"}),$("#video-player").css({display:"block"})})),initProgramSlider($(".program__slider")),initReviewSlider($(".review__slider")),$(".owl-carousel").owlCarousel({loop:!0,margin:10,nav:!0,dots:!0,items:1}),$(".gallery__slider").magnificPopup({delegate:"img",type:"image",callbacks:{elementParse:e=>e.src=e.el.attr("src")}});const e=$(".popup-container");e.find(".popup__cancel").on("click",(()=>e.css({display:"none"}))),e.find(".popup__btn").on("click",(()=>e.css({display:"none"}))),$("#create-order").on("click",(function(e){e.preventDefault(),isFormValid()&&sendForm()})),new WOW({animateClass:"animate__animated"}).init();const n=$("#phone-number");IMask(n.get(0),{mask:"+{7}(000)000-00-00",lazy:!1})}));