function isFormValid(){const e=$("#order-form");let i=!0;return e.find(".order__form-control").each((function(){const e=$(this);if(e.is("input")&&("text"===e.attr("type")&&e.val()||"tel"===e.attr("type")&&!e.val().includes("_"))||e.find("input").toArray().some((e=>$(e).is(":checked"))))e.removeClass("error-border"),e.next().hasClass("error-message")&&e.next().remove();else{const n="Необходимо заполнить";e.next().hasClass("error-message")||e.after($("<p></p>").text(n).addClass("error-message")).addClass("error-border"),i&&=!1}i&&=!0})),i}function sendForm(){let e=$(".loader");e.css("display","flex"),offScroll(),$.ajax({type:"POST",url:"https://testologia.ru/checkout",data:$("#order-form").serialize()}).done((function(i){e.hide(),onScroll(),i.success?$(".popup-container").css({display:"block"}):alert("Возникла ошибка при отправке заявки, позвоните нам и сообщите нам о проблеме.")}))}function offScroll(){$("html, body").css({overflow:"hidden"})}function onScroll(){$("html, body").css({overflow:"auto"})}function showPreviousSlide(e){e.currentSlide=(e.currentSlide-1+e.length)%e.length,updateSlider(e)}function showNextSlide(e){e.currentSlide=(e.currentSlide+1)%e.length,updateSlider(e)}function updateSlider(e){e.each((function(i){i===e.currentSlide?$(this).css({display:"grid"}):$(this).css({display:"none"})}))}function initProgramSlider(e){const i=e.find(".slider-btn_prev"),n=e.find(".slider-btn_next"),r=e.find(".program__tour");r.currentSlide=0,i.on("click",(()=>showPreviousSlide(r))),n.on("click",(()=>showNextSlide(r))),updateSlider(r)}function initReviewSlider(e){const i=e.find(".slider-btn_prev"),n=e.find(".slider-btn_next"),r=e.find(".review-card");r.currentSlide=0,i.on("click",(()=>showPreviousSlide(r))),n.on("click",(()=>showNextSlide(r))),updateSlider(r)}$((()=>{$("#video-play-action").on("click",(function(e){e.preventDefault(),$(this).css({display:"none"}),$(".video__container").css({background:"none"}),$("#video-player").css({display:"block"})})),initProgramSlider($(".program__slider")),initReviewSlider($(".review__slider")),$(".owl-carousel").owlCarousel({loop:!0,margin:10,nav:!0,dots:!0,items:1}),$(".gallery__slider").magnificPopup({delegate:"img",type:"image",callbacks:{elementParse:e=>e.src=e.el.attr("src")}});const e=$(".popup-container");e.find(".popup__cancel").on("click",(()=>e.css({display:"none"}))),e.find(".popup__btn").on("click",(()=>e.css({display:"none"}))),$("#create-order").on("click",(function(e){e.preventDefault(),isFormValid()&&sendForm()})),new WOW({animateClass:"animate__animated"}).init();const i=$("#phone-number");IMask(i.get(0),{mask:"+{7}(000)000-00-00",lazy:!1})}));